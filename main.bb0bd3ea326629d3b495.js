!function(){"use strict";var e=function(){var e=document.createElement("textarea");return e.classList.add("textarea"),e.cols=91,e.rows=10,e};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,c,u=[],i=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,c=void 0,c=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(a,"string"),"symbol"===t(c)?c:String(c)),o)}var a,c}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=a((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=document.createElement("button");if(this.code=t.code,"value"in t)this.value=t.value,this.currentValue=this.value,this.type="special";else{this.lang=t,this.values=this.lang.en;var o=r(this.values,1);this.currentValue=o[0],this.type="regular"}this.key=n,this.key.textContent=this.currentValue,this.action=null}));var u=function(e,t,r){var n=e.split("");return n.splice(r,0,t),n.join("")};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,c,u=[],i=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e,t,r){e.forEach((function(e){if("regular"===e.type){var n=e;if(n.values="en"===t?n.lang.ru:n.lang.en,r){var o=i(e.values,2);n.currentValue=o[1]}else{var a=i(e.values,1);n.currentValue=a[0]}n.key.textContent=n.currentValue}}))};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,c,u=[],i=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e,t){e.forEach((function(e){if("regular"===e.type){var r=e;if(t){var n=s(e.values,1);r.currentValue=n[0]}else{var o=s(e.values,2);r.currentValue=o[1]}r.key.textContent=e.currentValue}}))};var v=function(e,t,r){var n=t,o=e,a=r,c=!1,i="en";switch(n.code){case"CapsLock":case"ShiftLeft":case"ShiftRight":n.action=function(){y(a,c),c=!c};break;case"AltLeft":case"AltRight":n.action=function(){f(a,i,c),i="en"===i?"ru":"en",localStorage.setItem("lang",i)};break;case"Tab":n.action=function(){var e=o.selectionStart;o.value=u(o.value,"    ",e),o.selectionEnd=e+4};break;case"Space":n.action=function(){var e=o.selectionStart;o.value=u(o.value," ",e),o.selectionEnd=e+1};break;case"Backspace":n.action=function(){var e=o.selectionStart-1,t=o.value.split("");t.splice(e,1),o.value=t.join(""),o.selectionEnd=e};break;case"ControlLeft":n.action=function(){};break;case"Delete":n.action=function(){var e=o.selectionStart,t=o.value.split("");t.splice(e,1),o.value=t.join(""),o.selectionEnd=e};break;default:n.action=function(){var e=o.selectionStart;o.value=u(o.value,n.currentValue,e),o.selectionEnd=e+1}}return n.action};var h=function(e,t,r){var n=new c(e);return n.key.className="key",n.action=v(t,n,r),"Shift"===n.currentValue?(n.key.addEventListener("mousedown",n.action),n.key.addEventListener("mouseup",n.action)):n.key.addEventListener("click",(function(){n.action()})),n};var p=function(e){window.addEventListener("keydown",(function(t){if(t.preventDefault(),("Shift"!==t.key||!t.repeat)&&(e.forEach((function(e){t.code!==e.code&&t.key!==e.currentValue||"Alt"===t.key||(e.action(),e.key.classList.add("active"))})),t.ctrlKey)){if(t.repeat)return;"Alt"===t.key&&e.forEach((function(e){"Alt"===e.currentValue&&(e.action(),e.key.classList.add("active"))}))}})),window.addEventListener("keyup",(function(t){e.forEach((function(e){e.key.classList.remove("active")})),"Shift"===t.key&&e.forEach((function(e){"Shift"===e.currentValue&&(e.action(),e.key.classList.remove("active"))}))})),window.addEventListener("load",(function(){"ru"===localStorage.getItem("lang")&&e.forEach((function(e){"Alt"===e.currentValue&&(e.action(),e.key.classList.remove("active"))}))}))};var m=function(e,t){var r=document.createElement("div");r.className="keyboard";var n=[];return e.forEach((function(e){var o=h(e,t,n);r.appendChild(o.key),n.push(o)})),p(n),r},b=[{code:"Backquote",en:["`","~"],ru:["ё","Ё"]},{code:"Digit1",en:["1","!"],ru:["1","!"]},{code:"Digit2",en:["2","@"],ru:["2",'"']},{code:"Digit3",en:["3","#"],ru:["3","№"]},{code:"Digit4",en:["4","$"],ru:["4",";"]},{code:"Digit5",en:["5","%"],ru:["5","%"]},{code:"Digit6",en:["6","^"],ru:["6",":"]},{code:"Digit7",en:["7","&"],ru:["7","?"]},{code:"Digit8",en:["8","*"],ru:["8","*"]},{code:"Digit8",en:["9","("],ru:["9","("]},{code:"Digit0",en:["0",")"],ru:["0",")"]},{code:"Minus",en:["-","_"],ru:["-","_"]},{code:"Equal",en:["=","+"],ru:["=","+"]},{code:"Backspace",value:"Backspace"},{code:"Tab",value:"Tab"},{code:"KeyQ",en:["q","Q"],ru:["й","Й"]},{code:"KeyW",en:["w","W"],ru:["ц","ц"]},{code:"KeyE",en:["e","E"],ru:["у","У"]},{code:"KeyR",en:["r","R"],ru:["к","К"]},{code:"KeyT",en:["t","T"],ru:["е","Е"]},{code:"KeyY",en:["y","Y"],ru:["н","Н"]},{code:"KeyU",en:["u","U"],ru:["г","Г"]},{code:"KeyI",en:["i","I"],ru:["ш","Ш"]},{code:"KeyO",en:["o","O"],ru:["щ","Щ"]},{code:"KeyP",en:["p","P"],ru:["з","З"]},{code:"BracketLeft",en:["[","{"],ru:["х","Х"]},{code:"BracketRight",en:["]","}"],ru:["ъ","Ъ"]},{code:"Backslash",en:["\\","|"],ru:["\\","/"]},{code:"Delete",value:"Delete"},{code:"CapsLock",value:"CapsLock"},{code:"KeyA",en:["a","A"],ru:["ф","Ф"]},{code:"KeyS",en:["s","S"],ru:["ы","Ы"]},{code:"KeyD",en:["d","D"],ru:["в","В"]},{code:"KeyF",en:["f","F"],ru:["а","А"]},{code:"KeyG",en:["g","G"],ru:["п","П"]},{code:"KeyH",en:["h","H"],ru:["р","Р"]},{code:"KeyJ",en:["j","J"],ru:["о","О"]},{code:"KeyK",en:["k","K"],ru:["л","Л"]},{code:"KeyL",en:["l","L"],ru:["д","Д"]},{code:"Semicolon",en:[";",":"],ru:["ж","Ж"]},{code:"Quote",en:["'",'"'],ru:["э","Э"]},{code:"Enter",value:"Enter"},{code:"ShiftLeft",value:"Shift"},{code:"KeyZ",en:["z","Z"],ru:["я","Я"]},{code:"KeyX",en:["x","X"],ru:["ч","Ч"]},{code:"KeyC",en:["c","C"],ru:["с","С"]},{code:"KeyV",en:["v","V"],ru:["м","М"]},{code:"KeyB",en:["b","B"],ru:["и","И"]},{code:"KeyN",en:["n","N"],ru:["т","Т"]},{code:"KeyM",en:["m","M"],ru:["ь","Ь"]},{code:"Comma",en:[",","<"],ru:["б","Б"]},{code:"Period",en:[".",">"],ru:["ю","Ю"]},{code:"Slash",en:["/","?"],ru:[".",","]},{code:"ArrowUp",value:"▲"},{code:"ShiftRight",value:"Shift"},{code:"ControlLeft",value:"Ctrl"},{code:"MetaLeft",value:"Win"},{code:"AltLeft",value:"Alt"},{code:"Space",value:"Space"},{code:"AltRight",value:"Alt"},{code:"ControlRight",value:"Ctrl"},{code:"ArrowLeft",value:"◄"},{code:"ArrowDown",value:"▼"},{code:"ArrowRight",value:"►"}];var g=function(){var t=document.createElement("div");t.classList.add("container");var r=e(),n=m(b,r);return t.appendChild(r),t.appendChild(n),t};document.body.append(g())}();